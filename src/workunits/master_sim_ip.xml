<workunit>
        
    <invokers>
        <invoker type="sim-ip:open" caption="IPCR" action="open"/>
         <invoker type="sim-ip:create" caption="IPCR" action="create"/>
    </invokers>
   
    <code>
    <![CDATA[
        import com.rameses.osiris2.common.*;
        import com.rameses.rcp.common.*;
        import com.rameses.rcp.annotations.*;
        import com.rameses.osiris2.client.*;
        import java.rmi.server.*;
          
        class TagabukidSIMIPCRController extends CRUDController {
        
            @Caller
            def caller;
            def qualityitem;
            def successindicatorquality
            def selectedQuality
            def rate
            
            @Service("TagabukidSIMService")
            def simsvc
    
            String entityName = "sim";
            def node;
            boolean showConfirmOnSave = false;

            public String getServiceName() {
                return caller.getServiceName();
            }
            
            public String getTitle() {
                return caller.getTitle();
            }  
            
            public String getPrefixId() {
                return caller.getPrefixId();
            }
            
            public def getAccountService() {
                return caller.simService;
            }

            Map createEntity() {
                def m = [parentid:node.objid, type:'ip'];
                m.parent = [code:node.code, title: node.title];
                qualitys:[];
                timlinesss:[];
                efficiencys: [];
                caller.refresh();
                return m;
            }
            
          
            
            def qualityHandler = [
                createItem : {
                    return [
                        objid   : "T" + new java.rmi.server.UID(),
                         ]
                         },
                  onAddItem : {
                  
                    entity.orgs << it;
                },
              
                
            ] as EditorListModel   
            
            
            def timelinessHandler = [
                createItem : {
                    return [
                        objid   : "T" + new java.rmi.server.UID(),
                         ]
                         },
                  onAddItem : {
                  
                    entity.orgs << it;
                },
              
                
            ] as EditorListModel   
            
            
            def efficiencyHandler = [
                createItem : {
                    return [
                        objid   : "T" + new java.rmi.server.UID(),
                         ]
                         },
                  onAddItem : {
                  
                    entity.orgs << it;
                },
              
                
            ] as EditorListModel   
            
            }  
       ]]>
   </code>
   
   <pages>
       <page template="tagabukid.hrmis.pmis.views.IPCRPage"/>
   </pages>
   
</workunit>